(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"713b":function(e,t,s){"use strict";s.r(t);var a,o,r=function(){var e=this,t=e._self._c;return t("section",[t("article",{staticClass:"row justify-center items-center",staticStyle:{"background-color":"#e0e0e0"}},[t("div",{staticClass:"text-h5"},[e._v("\n      Home Finance\n      "),t("q-icon",{attrs:{name:"house",size:"lg"}})],1)]),t("article",{staticClass:"row justify-center"},[t("div",{staticClass:"q-my-md text-h5 text-bold"},[e._v("\n      "+e._s(e.currentMonth)+"\n    ")]),t("div",{staticClass:"q-my-md text-h5 q-px-sm"},[e._v(e._s(e.expenses_amount)+" €")])]),t("q-btn",{attrs:{label:e.showCalendar?"":"Ocultar",icon:e.showCalendar?"visibility":"visibility_off",flat:"",color:"grey",size:"sm"},on:{click:function(t){e.showCalendar=!e.showCalendar}}}),e.showCalendar?e._e():t("article",{staticClass:"q-px-lg"},[t("q-input",{attrs:{label:"Añade Gastos €",type:"number"},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}}),t("q-input",{attrs:{label:"Contepto",type:"text"},model:{value:e.concept,callback:function(t){e.concept=t},expression:"concept"}}),t("q-select",{attrs:{options:e.options,label:"Categoría"},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),t("q-input",{attrs:{flat:"",mask:"date",rules:["date"]},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!1,849503725),model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),t("div",{staticClass:"row justify-center q-my-sm"},[t("q-btn",{staticStyle:{color:"gray"},attrs:{outline:"",label:"+"},on:{click:e.addItem}})],1)],1),t("div",{staticClass:"q-py-md row justify-center"},[t("article",[e.emptyChart?t("h5",{staticStyle:{color:"gray"}},[e._v("Añade gastos")]):t("Doughnut",{key:e.key,staticClass:"q-px-md",attrs:{width:250,height:250,"chart-data":e.chartData}})],1),t("article",{staticClass:"row justify-center q-py-md q-my-sm"},[t("q-date",{attrs:{minimal:"",events:e.filteredExpenses().map((e=>e.date)),mask:"YYYY-MM-DD",value:e.date2,"event-color":e.setEventsColors()},on:{navigation:t=>e.changeMonth(t)}})],1)]),t("article",{staticClass:"q-px-xs row justify-center"},e._l(e.buttons,(function(s,a){return t("q-btn",{key:a,staticClass:"q-ma-sm",style:`color:${s.bg}`,attrs:{color:s.color,label:s.label},on:{click:function(t){return e.setActive(s,a)}}})})),1),t("article",{staticClass:"q-py-md",staticStyle:{"min-width":"200px"}},[t("ExpensesList",{key:e.key2,attrs:{data:e.filteredExpenses()},on:{"delete-item":e.deleteItem}})],1)],1)},n=[],c=(s("22f4"),s("3c78"),s("2f62")),i=s("1fca"),l={extends:i["a"],props:{chartData:{type:Object,default:null},options:{type:Object,default:null}},mounted(){this.renderChart(this.chartData,{responsive:!1,maintainAspectRatio:!1,legend:{display:!1}})}},d=l,h=s("2877"),u=Object(h["a"])(d,a,o,!1,null,null,null),p=u.exports;const m=[{name:"Comida a Domicilio",color:"#F2C037"},{name:"Supermercado",color:"#9C27B0"},{name:"Restaurante",color:"#00D8FF"},{name:"Hogar",color:"#DD1B16"},{name:"Facturas",color:"#41B883"}];var f={name:"MainLayout",components:{Doughnut:p,ExpensesList:()=>Promise.all([s.e(0),s.e(4)]).then(s.bind(null,"79db"))},data(){return{currentMonth:null,currentMonthNumber:this.$moment().month(),categoryFilter:{delivery:!1,market:!1,restaurant:!1,home:!1,bills:!1},events:["2023/02/01","2023/02/05","2023/02/06","2023/02/09","2023/02/23"],showCalendar:!1,date:this.$moment().format("YYYY/MM/DD"),date2:this.$moment().format("YYYY/MM/DD"),key:0,key2:0,number:0,delivery:10,expenses_amount:0,price:"",concept:"",category:null,datasets:[],options:m.map((e=>e.name)),expenses:[],chartData:{},emptyChart:!1,buttons:[{label:"Comida a Domicilio",color:"warning",onOff:"false",bg:"#F2C037"},{label:"Supermercado",color:"accent",onOff:"false",bg:"#F2C037"},{label:"Restaurante",color:"info",onOff:"false",bg:"#F2C037"},{label:"Hogar",color:"negative",onOff:"false",bg:"#F2C037"},{label:"Facturas",color:"positive",onOff:"false",bg:"#F2C037"}]}},computed:{computedEvents(){return this.expenses.map((e=>e.date)).map((e=>e.replace(/-/g,"/")))},computedFilters(){return this.buttons.filter((e=>!e.onOff)).map((e=>e.label))},getExpenses(){return[...this.$store.state.expenses.expenses]}},watch:{computedFilters:{handler(){this.setChartColors(this.computedFilters),this.key+=1,0===this.computedFilters.length&&this.setDoughNutChart()}}},created(){this.init(),this.setDoughNutChart(),this.setMonth()},methods:{...Object(c["c"])("expenses",["SET_TOTAL_AMOUNT","SET_EXPENSES"]),...Object(c["b"])("expenses",["action_updateExpenses"]),setMonth(){this.currentMonth=this.$moment().month(this.currentMonthNumber).format("MMMM")},changeMonth(e){console.log(e),this.expenses_amount=0,this.currentMonthNumber=e.month-1,this.setMonth(),console.log(this.currentMonthNumber),this.computeExpenses()},testSortMonth(){this.currentMonthNumber=1},sortExpensesByPrice(){console.log(this.expenses),alert("hola")},sortExpensesByDate(){const e=this.expenses.map((e=>this.$moment(e.date,"YYYY/MM/DD"))),t=e.sort(((e,t)=>e.diff(t))),s=t.map((e=>this.expenses.find((t=>this.$moment(t.date,"YYYY/MM/DD").isSame(e)))));return s},setEventsColors(){let e;return"Comida a Domicilio"===this.computedFilters[0]?e="warning":"Supermercado"===this.computedFilters[0]?e="purple":"Restaurante"===this.computedFilters[0]?e="cyan":"Hogar"===this.computedFilters[0]?e="red":"Facturas"===this.computedFilters[0]&&(e="light-green"),e},setChartColors(e){const t={"Comida a Domicilio":"#F2C037",Supermercado:"#9C27B0",Restaurante:"#00D8FF",Hogar:"#DD1B16",Facturas:"#41B883"},s=[];for(let r=0;r<Object.keys(t).length;r++){const a=Object.keys(t)[r];e.includes(a)?s.push(t[a]):s.push("#cccccc")}let a=m.map((e=>e.name));m.map((e=>e.color));this.chartData.labels=a;let o=[];return a.forEach((e=>{let t=this.expenses.filter((t=>t.category===e)).map((e=>parseInt(e.price))).reduce(((e,t)=>e+t),0);o.push(t)})),this.chartData.datasets=[{backgroundColor:s,data:o}],s},init(){this.expenses=this.getExpenses,this.computeExpenses()},setActive(e,t){let s=["warning","accent","info","negative","positive"];e.onOff?(console.log(e,t),this.buttons[t].color="grey",this.buttons[t].onOff=!1):(this.buttons[t].color=s[t],this.buttons[t].onOff=!0)},filteredExpenses(){let e=this.currentMonthNumber,t=this.expenses.filter((t=>this.$moment(t.date,"YYYY/MM/DD").month()===e)),s=this.getExpenses.filter((t=>this.$moment(t.date,"YYYY/MM/DD").month()===e)),a=[],o=this.buttons.filter((e=>!e.onOff)).map((e=>e.label));return a=t.filter((e=>o.includes(e.category))),0===this.computedFilters.length&&(a=s),a},setDoughNutChart(){let e=m.map((e=>e.name)),t=m.map((e=>e.color));this.chartData.labels=e;let s=this.filteredExpenses(),a=[];e.forEach((e=>{let t=s.filter((t=>t.category===e)).map((e=>parseInt(e.price))).reduce(((e,t)=>e+t),0);a.push(t)})),this.chartData.datasets=[{backgroundColor:t,data:a}],this.emptyChart=a.every((e=>0===e))},categoryStyle(e){return"Comida a Domicilio"===e.category?"background-color: rgba(242, 192, 55, 0.4)":"Supermercado"===e.category?"background-color: rgba(156, 39, 176, 0.4)":"Restaurante"===e.category?"background-color: rgba(0, 216, 255, 0.4)":"Hogar"===e.category?"background-color: rgba(221, 27, 22, 0.4)":"Facturas"===e.category?"background-color: rgba(65, 184, 131, 0.4)":void 0},computeExpenses(){let e=this.currentMonthNumber,t=this.expenses.filter((t=>this.$moment(t.date,"YYYY/MM/DD").month()===e));for(let s=0;s<t.length;s++)this.expenses_amount+=parseFloat(t[s]["price"]);this.setDoughNutChart(),this.key+=1,this.key2+=1},deleteItem(e){this.expenses.splice(e,1),this.expenses_amount=0,this.SET_EXPENSES(this.expenses),this.computeExpenses()},addItem(){this.expenses_amount=0;JSON.parse(JSON.stringify(this.price)),JSON.parse(JSON.stringify(this.category)),JSON.parse(JSON.stringify(this.concept));const e={price:this.price,category:this.category,concept:this.concept,date:this.date};this.price&&this.category?(this.expenses.push(e),this.SET_EXPENSES(this.expenses),this.computeExpenses()):alert("campo vacío")}}},b=f,j=(s("b1ed"),s("0016")),y=s("9c40"),g=s("27f9"),x=s("ddd8"),k=s("7cbe"),v=s("52ee"),C=s("7f67"),D=s("eebe"),M=s.n(D),E=Object(h["a"])(b,r,n,!1,null,null,null);t["default"]=E.exports;M()(E,"components",{QIcon:j["a"],QBtn:y["a"],QInput:g["a"],QSelect:x["a"],QPopupProxy:k["a"],QDate:v["a"]}),M()(E,"directives",{ClosePopup:C["a"]})},a341:function(e,t,s){},a7d7:function(e,t,s){var a={"./af":"838d","./af.js":"838d","./ar":"784e","./ar-dz":"73b7","./ar-dz.js":"73b7","./ar-kw":"90b7","./ar-kw.js":"90b7","./ar-ly":"d532","./ar-ly.js":"d532","./ar-ma":"e1cf","./ar-ma.js":"e1cf","./ar-sa":"d8a0","./ar-sa.js":"d8a0","./ar-tn":"3405","./ar-tn.js":"3405","./ar.js":"784e","./az":"1551","./az.js":"1551","./be":"74a2","./be.js":"74a2","./bg":"818d","./bg.js":"818d","./bn":"733a","./bn.js":"733a","./bo":"3fae","./bo.js":"3fae","./br":"e578","./br.js":"e578","./bs":"aa1c","./bs.js":"aa1c","./ca":"bf58","./ca.js":"bf58","./cs":"39b3","./cs.js":"39b3","./cv":"d077","./cv.js":"d077","./cy":"7b15","./cy.js":"7b15","./da":"7012","./da.js":"7012","./de":"8ef4","./de-at":"c2c4","./de-at.js":"c2c4","./de-ch":"59e8","./de-ch.js":"59e8","./de.js":"8ef4","./dv":"8229","./dv.js":"8229","./el":"3df5","./el.js":"3df5","./en-au":"64fc","./en-au.js":"64fc","./en-ca":"d02e","./en-ca.js":"d02e","./en-gb":"e4ab","./en-gb.js":"e4ab","./en-ie":"2078","./en-ie.js":"2078","./en-nz":"9e37","./en-nz.js":"9e37","./eo":"03d2","./eo.js":"03d2","./es":"f014","./es-do":"c04e","./es-do.js":"c04e","./es.js":"f014","./et":"7005","./et.js":"7005","./eu":"53ec","./eu.js":"53ec","./fa":"ccae","./fa.js":"ccae","./fi":"4bbe","./fi.js":"4bbe","./fo":"bee3","./fo.js":"bee3","./fr":"1f77","./fr-ca":"ffd0","./fr-ca.js":"ffd0","./fr-ch":"3236","./fr-ch.js":"3236","./fr.js":"1f77","./fy":"37c5","./fy.js":"37c5","./gd":"1ba1","./gd.js":"1ba1","./gl":"34cf","./gl.js":"34cf","./gom-latn":"313c","./gom-latn.js":"313c","./he":"cee8","./he.js":"cee8","./hi":"cb39","./hi.js":"cb39","./hr":"cea2","./hr.js":"cea2","./hu":"97cb","./hu.js":"97cb","./hy-am":"d0b1","./hy-am.js":"d0b1","./id":"7113","./id.js":"7113","./is":"269f","./is.js":"269f","./it":"1c5f","./it.js":"1c5f","./ja":"7c17","./ja.js":"7c17","./jv":"fc82","./jv.js":"fc82","./ka":"b0a4","./ka.js":"b0a4","./kk":"5858","./kk.js":"5858","./km":"024c","./km.js":"024c","./kn":"eeda","./kn.js":"eeda","./ko":"c9f3","./ko.js":"c9f3","./ky":"2886","./ky.js":"2886","./lb":"0691","./lb.js":"0691","./lo":"c132","./lo.js":"c132","./lt":"0413","./lt.js":"0413","./lv":"9a87","./lv.js":"9a87","./me":"07b9","./me.js":"07b9","./mi":"6da7","./mi.js":"6da7","./mk":"8f7a","./mk.js":"8f7a","./ml":"f2fd","./ml.js":"f2fd","./mr":"3b71","./mr.js":"3b71","./ms":"0660","./ms-my":"bdd0","./ms-my.js":"bdd0","./ms.js":"0660","./my":"5e5c","./my.js":"5e5c","./nb":"dcfb","./nb.js":"dcfb","./ne":"cba4","./ne.js":"cba4","./nl":"aa9a","./nl-be":"9610","./nl-be.js":"9610","./nl.js":"aa9a","./nn":"0461","./nn.js":"0461","./pa-in":"53d5","./pa-in.js":"53d5","./pl":"a609","./pl.js":"a609","./pt":"3417","./pt-br":"f586","./pt-br.js":"f586","./pt.js":"3417","./ro":"2f06","./ro.js":"2f06","./ru":"6d99","./ru.js":"6d99","./sd":"c4b0","./sd.js":"c4b0","./se":"43f2","./se.js":"43f2","./si":"3389","./si.js":"3389","./sk":"753b","./sk.js":"753b","./sl":"5e34","./sl.js":"5e34","./sq":"33bf","./sq.js":"33bf","./sr":"8843","./sr-cyrl":"4068","./sr-cyrl.js":"4068","./sr.js":"8843","./ss":"339e","./ss.js":"339e","./sv":"1428","./sv.js":"1428","./sw":"7581","./sw.js":"7581","./ta":"2e92","./ta.js":"2e92","./te":"9bcc","./te.js":"9bcc","./tet":"dc6d","./tet.js":"dc6d","./th":"8854","./th.js":"8854","./tl-ph":"9f93","./tl-ph.js":"9f93","./tlh":"8429","./tlh.js":"8429","./tr":"109e","./tr.js":"109e","./tzl":"593e","./tzl.js":"593e","./tzm":"a007","./tzm-latn":"5d9b","./tzm-latn.js":"5d9b","./tzm.js":"a007","./uk":"1e2a","./uk.js":"1e2a","./ur":"f26f","./ur.js":"f26f","./uz":"a18a","./uz-latn":"c96c","./uz-latn.js":"c96c","./uz.js":"a18a","./vi":"2fe7","./vi.js":"2fe7","./x-pseudo":"95bd","./x-pseudo.js":"95bd","./yo":"352b","./yo.js":"352b","./zh-cn":"865c","./zh-cn.js":"865c","./zh-hk":"0302","./zh-hk.js":"0302","./zh-tw":"a24e","./zh-tw.js":"a24e"};function o(e){var t=r(e);return s(t)}function r(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id="a7d7"},b1ed:function(e,t,s){"use strict";s("a341")}}]);